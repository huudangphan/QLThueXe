create or replace function insert_xe(
		_bien_so varchar(15),
		_id_hang int,
		_ten_xe varchar(20),
		_gia_thue float,
		_ma_kiem_soat varchar(10)
	)
	RETURNS integer
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE PARALLEL UNSAFE
AS $BODY$
begin
	if  exists(select 1 from hang_xe where id_hang=_id_hang) then
		insert into xe(bien_so,id_hang,ten_xe,gia_thue,ma_kiem_soat)
		values(_bien_so,_id_hang,_ten_xe,_gia_thue,_ma_kiem_soat);
		return 200;
	end if;
	return 100;
	
end
$BODY$;
